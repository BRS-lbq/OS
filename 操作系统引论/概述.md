  目录





### 是什么

是以下系统程序的集成：

1. 用户程序的启动、中止。

2. 系统调用——用户程序运行过程中对操作系统的调用

3. 为常用基本操作提供实用程序

4. 改善基本使用中的效率和安全问题。

是扩充机/虚拟机：把覆盖了软件的机器成为扩充机/虚拟机。





***

### 目标

1. 方便性： 配置OS后计算机更易使用
2. 有效性：改善资源利用率；提高系统的吞吐量
3. 可扩充性： os的结构（如 层次化结构）
4. 开放性：os应遵循世界规范标准





***

### 发展

#### 手工操作阶段（40年代） 

#### 单道批处理阶段（50年代） 

晶体管计算机，操作系统的雏形，称为监控程序。

分为以下两种：

- 联机批处理：**CPU**直接控制作业输入输出。
- 脱机批处理：由**外围机**控制作业输入输出。



#### 多道批处理（革命性变革）

在内存中放多道程序，使他们在管理程序的控制下相互穿插的运行。

**特点：**

- 多道： 内存同时存在多个作业
- **宏观上并行**：同时多道程序在内存中运行，
- **微观上串行**：任一时刻只有一道作业占用CPU，多道程序交替使用CPU。

缺点：平均周转时间长，无交互能力

> 作业周转时间：指从作业进入系统开始，直至其完成并退出系统为止所经历的时间。



#### 分时系统

一台**主机**连接多个带有显示器和键盘的**终端**，以交互方式使用计算机，共享主机中的资源。

关键问题：及时接收（多路卡和缓冲区），及时处理。



#### 实时操作系统

系统能及时响应外部事件的请求，在规定时间内完成对事件的处理。

如工业、武器的控制，互联网订票系统。



#### 微机操作系统

单用户单任务操作系统：CP/M， MS-DOS

单用户多任务操作系统：OS/2, MS WINDOWS（90年windows 3.0）

多用户多任务操作系统：UNIX（70年）



#### 多处理机操作系统

（1）类型分类：

- 紧密耦合MPS：多处理机通过**高速线路互联**，**共享主存和外设**。

- 松散耦合MPS：通过**通道或通信线路**实现多台计算机互联，每台计算机可以独立功罪，必要时交互。

（2）是否对称分类：

- 非对称：主从模式，主处理机只有一个，配置操作系统。从处理机可以有多个。
- 对称：所有处理机都相同。操作系统可以根据需要运行与其中的任一处理机上。



#### 网络操作系统

网络上各计算机能方便有效地共享网络资源，为网络用户提供各种服务的软件与有关规程的集合。

**模式：**

- 客户/服务器模式

> 网络中的各个站点可以分为两大类：
>
> 服务器：为客户提供服务；如文件服务、



#### 分布式操作系统

系统的处理和控制功能都分散在系统的各个处理单元上，系统中的所有任务可以动态地分配到各个处理单元中去。



#### 嵌入式操作系统

是一个大设备，装置，或系统中的一部分。





***

### 操作系统的特性

- 并发：任何一个时间点上只能有一道作业占用CPU；（引入进程，线程）

- 共享：系统中的资源可以供多个并发的进程共同使用。【**并发**和**共享**二者**互为条件**，是OS的**最基本特性**】

- 虚拟：一个/多个物理实体映射为若干个逻辑上的对应物。（虚拟存储是内存和外存的虚拟）

  虚拟是操作系统管理系统资源的重要手段，可以提高资源的利用率。

  1. CPU---多道程序设计技术 / 每个用户（进程）的 “虚拟处理机”
  2. 存储器---每个进程都占有的**地址空间（指令+数据+堆栈）**
  3. I/O设备---打印机，多窗口，虚拟终端。

- 异步：操作系统必须随时对以下不可预测的次序发生的事件进行响应：

  1. 进程的运行速度不可预知；因为分时系统多个进程并发执行，无法预知每个进程的运行快慢。
  2. 难以重现系统在某个时刻的状态（包括运行中的错误）

***

### 操作系统的功能

#### （一）处理机管理

进程控制，进程同步，进程通信，调度

#### （二）存储器管理

内存分配，地址映射，存储保护，存储扩充

#### （三）设备管理

缓冲管理，设备分配，设备驱动，设备独立性和虚拟设备

#### （四）文件系统管理

存储空间，目录，文件的读写和存取控制

#### （五）用户接口

命令接口，程序接口，图形接口。

#### （六）现代OS新功能

系统安全，网络功能个服务，支持多媒体





***

### 操作系统结构设计

#### 传统结构

- 无结构
- 块化
- 分层式：基本原则【每一层软件仅使用其**底层**所提供的功能和服务】

> 分层设计应考虑的因素：
>
> 程序嵌套：划分层次时，应考虑程序的嵌套调用。如作业调度要调用进程控制模块，进程控制要调用内存管理 模块。
>
> 运行频率：接近硬件的低层应为运行频率高的模块。如时钟管理、进程调度等。
>
> 公共模块：应放在最低层。
>
> 用户接口：放在最高层，供用户使用。

- 微内核